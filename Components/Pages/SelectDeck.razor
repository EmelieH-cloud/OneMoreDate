@page "/deck"
@using OneMoreDate.Managers;
@using OneMoreDate.Models;
@using OneMoreDate.Components.Reusable;
@inject NavigationManager Navigation


@if (showModal)
{
   
      <div class="overlay-background" @onclick="closeBtn"></div>
    <div class="deck-modal-inner-container">
        <DeckModal CloseButton="closeBtn"  DeckNumber =@deckNumber AddAnimationClass=@addAnimationClass />
    </div>
}

<div class="back-btn-no-background">

    <button @onclick="GoBack" class=" animate__animated animate__fadeIn">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class=" back-btn-no-background-svg bi bi-arrow-left-short" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5" />
        </svg>
    </button>
</div>

<div class="my-decks-container mb-4 text-center animate__animated animate__fadeIn animate__slower rounded">

        <div class="select-deck-container " @onclick="()=>selectDeck(1)" >
        <img src="./images/deck.png" alt="deck" class="img-smaller" />
     <h4 class="deck-header">The trial Deck</h4>
    </div>

    <div class="select-deck-container" @onclick="()=>selectDeck(2)">
        <img src="./images/partydeck.png" alt="deck" class="img-smaller" />
          <h4 class="deck-header">The original Deck</h4>
    </div>

    <div class="select-deck-container" @onclick="()=>selectDeck(3)">
        <img src="./images/naughtydeck.png" alt="deck" class="img-smaller" />
           <h4 class="deck-header">The naughty Deck </h4>
        </div>

    
</div>


@code {
    private string addAnimationClass = "";


    private bool showModal = false;
  
    private int deckNumber;



    private void GoBack()
    {
        Navigation.NavigateTo($"/startGame");
    }

    private void selectDeck(int deckId)
    {
        addAnimationClass = "animate__animated animate__fadeIn";

        deckNumber = deckId;
        showModal = true;
    
    }

    private void closeBtn()
    {
        showModal = false;
        addAnimationClass = "";
    }

   

}
